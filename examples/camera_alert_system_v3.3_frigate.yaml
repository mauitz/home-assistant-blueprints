# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# SISTEMA DE ALERTAS V3.3 - CON FRIGATE (IA COMPLETA)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# CAMBIOS EN V3.3:
# âœ… Usa Frigate para detecciÃ³n con IA
# âœ… Detecta PERSONAS + VEHÃCULOS + ANIMALES
# âœ… Snapshots con bounding boxes de Frigate
# âœ… Menos falsos positivos (modelo YOLO)
# âœ… Notificaciones diferenciadas por tipo de objeto
#
# REQUISITOS:
# â€¢ Frigate instalado y configurado
# â€¢ IntegraciÃ³n Frigate en Home Assistant
# â€¢ Binary sensors de Frigate activos
#
# SENSORES USADOS:
# â€¢ binary_sensor.entrada_person_occupancy
# â€¢ binary_sensor.entrada_car_occupancy
# â€¢ binary_sensor.exterior_person_occupancy
# â€¢ binary_sensor.exterior_car_occupancy
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ENTRADA: PERSONA DETECTADA
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000001'
  alias: 'ğŸš¨ Frigate - Entrada - PERSONA'
  description: >
    Detecta personas en la entrada usando Frigate AI.
    EnvÃ­a notificaciÃ³n con snapshot de Frigate.

  triggers:
    - platform: state
      entity_id: binary_sensor.entrada_person_occupancy
      from: 'off'
      to: 'on'

  conditions: []

  actions:
    # 1. Actualizar helper (activa widget agrandado)
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "entrada"

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_timestamp
      data:
        value: "{{ as_timestamp(now()) | int }}"

    # 2. Log
    - service: logbook.log
      data:
        name: "ğŸš¨ Frigate - Alerta"
        message: "ENTRADA: PERSONA detectada por IA a las {{ now().strftime('%H:%M:%S') }}"
        entity_id: binary_sensor.entrada_person_occupancy

    # 3. NotificaciÃ³n con snapshot de Frigate
    - service: notify.mobile_app_blacky
      data:
        title: "ğŸš¨ PERSONA en Entrada"
        message: "Detectada por IA a las {{ now().strftime('%H:%M') }}"
        data:
          push:
            interruption-level: critical
            sound: alarm.caf
          tag: "frigate_entrada_person"
          # Snapshot de Frigate con bounding boxes
          image: "http://192.168.1.100:5000/api/entrada/person/snapshot.jpg"

    # 4. Activar sirena (solo 5 segundos)
    - service: siren.turn_on
      target:
        entity_id: siren.tapo_c530ws_entrada_siren
      data:
        duration: 5

    # 5. Encender floodlight
    - service: light.turn_on
      target:
        entity_id: light.tapo_c530ws_entrada_floodlight_timed
      data:
        brightness: 255

    # 6. Esperar 10 segundos
    - delay:
        seconds: 10

    # 7. Apagar sirena
    - service: siren.turn_off
      target:
        entity_id: siren.tapo_c530ws_entrada_siren

    # 8. Reset automÃ¡tico
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "none"

    - service: logbook.log
      data:
        name: "Sistema de Alertas"
        message: "âœ… Alerta de ENTRADA (persona) finalizada"

  mode: single


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ENTRADA: VEHÃCULO DETECTADO
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000002'
  alias: 'ğŸš— Frigate - Entrada - VEHÃCULO'
  description: >
    Detecta vehÃ­culos (car, truck, motorcycle) en la entrada.
    NotificaciÃ³n NORMAL (no crÃ­tica).

  triggers:
    - platform: state
      entity_id: binary_sensor.entrada_car_occupancy
      from: 'off'
      to: 'on'

  conditions: []

  actions:
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "entrada"

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_timestamp
      data:
        value: "{{ as_timestamp(now()) | int }}"

    - service: logbook.log
      data:
        name: "ğŸš— Frigate - Alerta"
        message: "ENTRADA: VEHÃCULO detectado a las {{ now().strftime('%H:%M:%S') }}"
        entity_id: binary_sensor.entrada_car_occupancy

    # NotificaciÃ³n NORMAL (no crÃ­tica)
    - service: notify.mobile_app_blacky
      data:
        title: "ğŸš— VehÃ­culo en Entrada"
        message: "Detectado a las {{ now().strftime('%H:%M') }}"
        data:
          push:
            interruption-level: active  # Normal, no crÃ­tica
          tag: "frigate_entrada_vehicle"
          image: "http://192.168.1.100:5000/api/entrada/car/snapshot.jpg"

    # SIN sirena para vehÃ­culos (solo encender luz)
    - service: light.turn_on
      target:
        entity_id: light.tapo_c530ws_entrada_floodlight_timed
      data:
        brightness: 180  # Menos brillo que para personas

    - delay:
        seconds: 10

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "none"

  mode: single


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# EXTERIOR: PERSONA DETECTADA
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000003'
  alias: 'ğŸš¨ Frigate - Exterior - PERSONA'
  description: >
    Detecta personas en el exterior usando Frigate AI.

  triggers:
    - platform: state
      entity_id: binary_sensor.exterior_person_occupancy
      from: 'off'
      to: 'on'

  conditions: []

  actions:
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "exterior"

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_timestamp
      data:
        value: "{{ as_timestamp(now()) | int }}"

    - service: logbook.log
      data:
        name: "ğŸš¨ Frigate - Alerta"
        message: "EXTERIOR: PERSONA detectada por IA a las {{ now().strftime('%H:%M:%S') }}"
        entity_id: binary_sensor.exterior_person_occupancy

    - service: notify.mobile_app_blacky
      data:
        title: "ğŸš¨ PERSONA en Exterior"
        message: "Detectada por IA a las {{ now().strftime('%H:%M') }}"
        data:
          push:
            interruption-level: critical
            sound: alarm.caf
          tag: "frigate_exterior_person"
          image: "http://192.168.1.100:5000/api/exterior/person/snapshot.jpg"

    - service: siren.turn_on
      target:
        entity_id: siren.tapo_c310_exterior_siren
      data:
        duration: 5

    - service: light.turn_on
      target:
        entity_id: light.tapo_c310_exterior_floodlight_timed
      data:
        brightness: 255

    - delay:
        seconds: 10

    - service: siren.turn_off
      target:
        entity_id: siren.tapo_c310_exterior_siren

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "none"

  mode: single


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# EXTERIOR: VEHÃCULO DETECTADO
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000004'
  alias: 'ğŸš— Frigate - Exterior - VEHÃCULO'
  description: >
    Detecta vehÃ­culos en el exterior.

  triggers:
    - platform: state
      entity_id: binary_sensor.exterior_car_occupancy
      from: 'off'
      to: 'on'

  conditions: []

  actions:
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "exterior"

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_timestamp
      data:
        value: "{{ as_timestamp(now()) | int }}"

    - service: logbook.log
      data:
        name: "ğŸš— Frigate - Alerta"
        message: "EXTERIOR: VEHÃCULO detectado a las {{ now().strftime('%H:%M:%S') }}"
        entity_id: binary_sensor.exterior_car_occupancy

    - service: notify.mobile_app_blacky
      data:
        title: "ğŸš— VehÃ­culo en Exterior"
        message: "Detectado a las {{ now().strftime('%H:%M') }}"
        data:
          push:
            interruption-level: active
          tag: "frigate_exterior_vehicle"
          image: "http://192.168.1.100:5000/api/exterior/car/snapshot.jpg"

    - service: light.turn_on
      target:
        entity_id: light.tapo_c310_exterior_floodlight_timed
      data:
        brightness: 180

    - delay:
        seconds: 10

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "none"

  mode: single


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# OPCIONAL: DETECCIÃ“N DE ANIMALES (DOG/CAT)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000005'
  alias: 'ğŸ• Frigate - Entrada - ANIMAL'
  description: >
    Detecta perros/gatos. Solo log, sin sirena.

  triggers:
    - platform: state
      entity_id: binary_sensor.entrada_dog_occupancy
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: binary_sensor.entrada_cat_occupancy
      from: 'off'
      to: 'on'

  conditions: []

  actions:
    - service: logbook.log
      data:
        name: "ğŸ• Frigate - Alerta"
        message: >
          ENTRADA: ANIMAL detectado ({{ trigger.to_state.attributes.friendly_name }})
          a las {{ now().strftime('%H:%M:%S') }}

    # Solo notificaciÃ³n silenciosa (sin sirena)
    - service: notify.mobile_app_blacky
      data:
        title: "ğŸ• Animal detectado"
        message: "{{ trigger.to_state.attributes.friendly_name }} en entrada"
        data:
          push:
            interruption-level: passive  # Silenciosa
          tag: "frigate_entrada_animal"
          image: "http://192.168.1.100:5000/api/entrada/dog/snapshot.jpg"

  mode: single


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# RESET MANUAL
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000006'
  alias: 'Reset Manual V3.3'
  description: Resetea alertas manualmente

  triggers:
    - platform: state
      entity_id: input_text.camera_alert_active
      to: "reset"

  actions:
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "none"

    - service: siren.turn_off
      target:
        entity_id:
          - siren.tapo_c530ws_entrada_siren
          - siren.tapo_c310_exterior_siren

    - service: logbook.log
      data:
        name: "Sistema de Alertas V3.3"
        message: "ğŸ”„ Sistema reseteado manualmente"

  mode: single


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TEST MANUAL
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- id: '1763080000007'
  alias: 'Test Manual V3.3'
  description: Prueba el sistema manualmente

  triggers:
    - platform: state
      entity_id: input_text.camera_alert_active
      to: "test"

  actions:
    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "entrada"

    - service: logbook.log
      data:
        name: "Sistema de Alertas V3.3"
        message: "ğŸ§ª TEST: Simulando detecciÃ³n Frigate"

    - service: notify.mobile_app_blacky
      data:
        title: "ğŸ§ª TEST: Frigate V3.3"
        message: "Esta es una notificaciÃ³n de prueba"
        data:
          tag: "frigate_test"

    - delay:
        seconds: 10

    - service: input_text.set_value
      target:
        entity_id: input_text.camera_alert_active
      data:
        value: "none"

  mode: single


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# NOTAS DE USO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# BINARY SENSORS DE FRIGATE:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Frigate crea automÃ¡ticamente binary sensors para cada objeto:
#
# â€¢ binary_sensor.{camera}_person_occupancy
# â€¢ binary_sensor.{camera}_car_occupancy
# â€¢ binary_sensor.{camera}_truck_occupancy
# â€¢ binary_sensor.{camera}_motorcycle_occupancy
# â€¢ binary_sensor.{camera}_bicycle_occupancy
# â€¢ binary_sensor.{camera}_dog_occupancy
# â€¢ binary_sensor.{camera}_cat_occupancy
# â€¢ binary_sensor.{camera}_bus_occupancy
#
# Estado: "on" cuando objeto estÃ¡ presente, "off" cuando no
#
# SNAPSHOTS DE FRIGATE:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# URL format: http://IP:5000/api/{camera}/{object}/snapshot.jpg
#
# Ejemplos:
# â€¢ http://192.168.1.100:5000/api/entrada/person/snapshot.jpg
# â€¢ http://192.168.1.100:5000/api/entrada/car/snapshot.jpg
# â€¢ http://192.168.1.100:5000/api/exterior/person/snapshot.jpg
#
# Los snapshots incluyen:
# âœ… Bounding boxes (cuadros de detecciÃ³n)
# âœ… Timestamp
# âœ… Label del objeto detectado
# âœ… Confidence score
#
# DIFERENCIAS CON V3.2:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# V3.2 (Tapo nativo):
# â€¢ Solo person detection
# â€¢ Binary sensor de la cÃ¡mara
# â€¢ Snapshots sin bounding boxes
#
# V3.3 (Frigate):
# âœ… Person + Vehicle + Animal detection
# âœ… Modelo YOLO (mÃ¡s preciso)
# âœ… Snapshots con bounding boxes
# âœ… Menos falsos positivos
# âœ… Timeline de eventos en UI
# âœ… GrabaciÃ³n inteligente
#
# NOTIFICACIONES:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# â€¢ Personas: CRÃTICA (interruption-level: critical + sirena)
# â€¢ VehÃ­culos: NORMAL (interruption-level: active, sin sirena)
# â€¢ Animales: SILENCIOSA (interruption-level: passive)
#
# PRUEBAS:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. Pasar frente a cÃ¡mara
# 2. Verificar en UI de Frigate que detectÃ³ (http://192.168.1.100:5000)
# 3. Verificar binary sensor en HA (Herramientas de desarrollador â†’ Estados)
# 4. Verificar que llegÃ³ notificaciÃ³n
# 5. Verificar widget agrandado en dashboard
#
# TROUBLESHOOTING:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# â€¢ Binary sensor no cambia: Verificar Frigate logs
# â€¢ No llegan notificaciones: Verificar URL de snapshot (debe ser accesible)
# â€¢ Muchos falsos positivos: Ajustar threshold en frigate config.yml
# â€¢ Widget no agranda: Verificar input_text.camera_alert_active
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

